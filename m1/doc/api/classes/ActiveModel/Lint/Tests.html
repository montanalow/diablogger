<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Module: ActiveModel::Lint::Tests [Rails Framework Documentation]</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;

    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }

  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }<\/style>" )

  // ]]>
  </script>

</head>
<body>


    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Module</strong></td>
          <td class="class-name-in-header">ActiveModel::Lint::Tests</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>


                <a href="../../../files/Users/montana/_bundle/ruby/1_9_1/bundler/gems/rails-16a5e918a06649ffac24fd5873b875daf66212ad-8c7e8976e97d96f514e22b04fc1afb9453134076/activemodel/lib/active_model/lint_rb.html">

                /Users/montana/.bundle/ruby/1.9.1/bundler/gems/rails-16a5e918a06649ffac24fd5873b875daf66212ad-8c7e8976e97d96f514e22b04fc1afb9453134076/activemodel/lib/active_model/lint.rb

                </a>


        <br />

            </td>
        </tr>


        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">

  <div id="contextContent">

   </div>


    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">

        <a href="#M000695">test_errors_aref</a>&nbsp;&nbsp;

        <a href="#M000696">test_errors_full_messages</a>&nbsp;&nbsp;

        <a href="#M000694">test_model_naming</a>&nbsp;&nbsp;

        <a href="#M000693">test_persisted?</a>&nbsp;&nbsp;

        <a href="#M000690">test_to_key</a>&nbsp;&nbsp;

        <a href="#M000691">test_to_param</a>&nbsp;&nbsp;

        <a href="#M000692">test_valid?</a>&nbsp;&nbsp;

      </div>
    </div>

  </div>

    <!-- if includes -->

    <div id="section">




    <!-- if method_list -->

    <div id="methods">

      <h3 class="section-bar">Public Instance methods</h3>


      <div id="method-M000695" class="method-detail">
        <a name="M000695"></a>

        <div class="method-heading">

          <a href="#M000695" class="method-signature">

          <span class="method-name">test_errors_aref</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <h2><a href="../Errors.html">Errors</a> Testing</h2>
<p>
Returns an object that has :[] and :full_messages defined on it. See below
for more details.
</p>
<p>
Returns an Array of Strings that are the errors for the attribute in
question. If localization is used, the Strings should be localized for the
current locale. If no error is present, this method should return an empty
Array.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000695-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000695-source">
<pre>
    <span class="ruby-comment cmt"># File /Users/montana/.bundle/ruby/1.9.1/bundler/gems/rails-16a5e918a06649ffac24fd5873b875daf66212ad-8c7e8976e97d96f514e22b04fc1afb9453134076/activemodel/lib/active_model/lint.rb, line 88</span>
88:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_errors_aref</span>
89:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:errors</span>), <span class="ruby-value str">&quot;The model should respond to errors&quot;</span>
90:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">errors</span>[<span class="ruby-identifier">:hello</span>].<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>), <span class="ruby-value str">&quot;errors#[] should return an Array&quot;</span>
91:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000696" class="method-detail">
        <a name="M000696"></a>

        <div class="method-heading">

          <a href="#M000696" class="method-signature">

          <span class="method-name">test_errors_full_messages</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns an Array of all error messages for the object. Each message should
contain information about the field, if applicable.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000696-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000696-source">
<pre>
    <span class="ruby-comment cmt"># File /Users/montana/.bundle/ruby/1.9.1/bundler/gems/rails-16a5e918a06649ffac24fd5873b875daf66212ad-8c7e8976e97d96f514e22b04fc1afb9453134076/activemodel/lib/active_model/lint.rb, line 95</span>
95:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_errors_full_messages</span>
96:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:errors</span>), <span class="ruby-value str">&quot;The model should respond to errors&quot;</span>
97:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">full_messages</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>), <span class="ruby-value str">&quot;errors#full_messages should return an Array&quot;</span>
98:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000694" class="method-detail">
        <a name="M000694"></a>

        <div class="method-heading">

          <a href="#M000694" class="method-signature">

          <span class="method-name">test_model_naming</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <h2><a href="../Naming.html">Naming</a></h2>
<p>
Model.model_name must returns a string with some convenience methods as
:human and :partial_path. Check <a
href="../Naming.html">ActiveModel::Naming</a> for more information.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000694-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000694-source">
<pre>
    <span class="ruby-comment cmt"># File /Users/montana/.bundle/ruby/1.9.1/bundler/gems/rails-16a5e918a06649ffac24fd5873b875daf66212ad-8c7e8976e97d96f514e22b04fc1afb9453134076/activemodel/lib/active_model/lint.rb, line 69</span>
69:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_model_naming</span>
70:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:model_name</span>), <span class="ruby-value str">&quot;The model should respond to model_name&quot;</span>
71:         <span class="ruby-identifier">model_name</span> = <span class="ruby-identifier">model</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">model_name</span>
72:         <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">String</span>, <span class="ruby-identifier">model_name</span>
73:         <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">String</span>, <span class="ruby-identifier">model_name</span>.<span class="ruby-identifier">human</span>
74:         <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">String</span>, <span class="ruby-identifier">model_name</span>.<span class="ruby-identifier">partial_path</span>
75:         <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">String</span>, <span class="ruby-identifier">model_name</span>.<span class="ruby-identifier">singular</span>
76:         <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">String</span>, <span class="ruby-identifier">model_name</span>.<span class="ruby-identifier">plural</span>
77:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000693" class="method-detail">
        <a name="M000693"></a>

        <div class="method-heading">

          <a href="#M000693" class="method-signature">

          <span class="method-name">test_persisted?</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <h2>Responds to <tt>persisted?</tt></h2>
<p>
Returns a boolean that specifies whether the object has been persisted yet.
This is used when calculating the URL for an object. If the object is not
persisted, a form for that object, for instance, will be POSTed to the
collection. If it is persisted, a form for the object will put PUTed to the
URL for the object.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000693-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000693-source">
<pre>
    <span class="ruby-comment cmt"># File /Users/montana/.bundle/ruby/1.9.1/bundler/gems/rails-16a5e918a06649ffac24fd5873b875daf66212ad-8c7e8976e97d96f514e22b04fc1afb9453134076/activemodel/lib/active_model/lint.rb, line 59</span>
59:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_persisted?</span>
60:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:persisted?</span>), <span class="ruby-value str">&quot;The model should respond to persisted?&quot;</span>
61:         <span class="ruby-identifier">assert_boolean</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">persisted?</span>, <span class="ruby-value str">&quot;persisted?&quot;</span>
62:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000690" class="method-detail">
        <a name="M000690"></a>

        <div class="method-heading">

          <a href="#M000690" class="method-signature">

          <span class="method-name">test_to_key</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <h2>Responds to <tt>to_key</tt></h2>
<p>
Returns an <a href="../../Enumerable.html">Enumerable</a> of all (primary)
key attributes or nil if model.persisted? is false
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000690-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000690-source">
<pre>
    <span class="ruby-comment cmt"># File /Users/montana/.bundle/ruby/1.9.1/bundler/gems/rails-16a5e918a06649ffac24fd5873b875daf66212ad-8c7e8976e97d96f514e22b04fc1afb9453134076/activemodel/lib/active_model/lint.rb, line 21</span>
21:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_key</span>
22:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:to_key</span>), <span class="ruby-value str">&quot;The model should respond to to_key&quot;</span>
23:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">persisted?</span>() <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">end</span>
24:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">to_key</span>.<span class="ruby-identifier">nil?</span>
25:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000691" class="method-detail">
        <a name="M000691"></a>

        <div class="method-heading">

          <a href="#M000691" class="method-signature">

          <span class="method-name">test_to_param</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <h2>Responds to <tt>to_param</tt></h2>
<p>
Returns a string representing the object&#8217;s key suitable for use in
URLs or nil if model.persisted? is false.
</p>
<p>
Implementers can decide to either raise an exception or provide a default
in case the record uses a composite primary key. There are no tests for
this behavior in lint because it doesn&#8217;t make sense to force any of
the possible implementation strategies on the implementer. However, if the
resource is not persisted?, then to_param should always return nil.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000691-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000691-source">
<pre>
    <span class="ruby-comment cmt"># File /Users/montana/.bundle/ruby/1.9.1/bundler/gems/rails-16a5e918a06649ffac24fd5873b875daf66212ad-8c7e8976e97d96f514e22b04fc1afb9453134076/activemodel/lib/active_model/lint.rb, line 37</span>
37:       <span class="ruby-keyword kw">def</span>  <span class="ruby-identifier">test_to_param</span><span class="ruby-identifier">test_to_param</span>
38:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:to_param</span>), <span class="ruby-value str">&quot;The model should respond to to_param&quot;</span>
39:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">persisted?</span>() <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">end</span>
40:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">to_param</span>.<span class="ruby-identifier">nil?</span>
41:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000692" class="method-detail">
        <a name="M000692"></a>

        <div class="method-heading">

          <a href="#M000692" class="method-signature">

          <span class="method-name">test_valid?</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <h2>Responds to <tt>valid?</tt></h2>
<p>
Returns a boolean that specifies whether the object is in a valid or
invalid state.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000692-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000692-source">
<pre>
    <span class="ruby-comment cmt"># File /Users/montana/.bundle/ruby/1.9.1/bundler/gems/rails-16a5e918a06649ffac24fd5873b875daf66212ad-8c7e8976e97d96f514e22b04fc1afb9453134076/activemodel/lib/active_model/lint.rb, line 47</span>
47:       <span class="ruby-keyword kw">def</span>  <span class="ruby-identifier">test_valid?</span><span class="ruby-identifier">test_valid?</span>
48:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:valid?</span>), <span class="ruby-value str">&quot;The model should respond to valid?&quot;</span>
49:         <span class="ruby-identifier">assert_boolean</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">valid?</span>, <span class="ruby-value str">&quot;valid?&quot;</span>
50:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>



    </div>




  </div>

<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>
